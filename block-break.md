# luoshu-xuan.github.io
# Block-break
## 整体构思

制作一款打砖块游戏，拥有开始界面和开始按键，点击开始按键后开始游戏。
左上角拥有当前获取分数，输赢皆有提示。
右下方拥有离开按钮，点击即回到初始界面。
## 需求分析

+ 挡板能够拖拽
+ 小球碰到边界能够弹回
+ 小球碰到砖块能够使砖块消失
+ 每个砖块消失都会使积分加上500
+ 小球掉落下方直接结束游戏，宣布失败
+ 砖块全部消失时游戏结束，宣布胜利
+ 点击离开按钮即返回之前开始游戏界面

## 制作的打砖块思维图

![思维图](file:///Users/yinjianrong/Desktop/打砖块小游戏/思维图/思维图.png
)

## 开始编写程序

1.进行程序的初始化，重新加载小球和挡板的坐标。并且适度隐藏某些按钮，等到结束游戏时再显现。

2.进行小球与边界的碰撞判定，编写结束界面并且展示得分。

3.返回主界面用exit（）即可。

4.重新开始时只需重新加载视图即可。

5.需要一个方便的定时器：CADisplaylink，在此定时器的执行中，我们需要一次次做出小球和挡板，小球和砖块，小球和边界的碰撞判定。

6.一开始准备做一个游戏遮罩，后面发现无法将按钮添加到遮罩view上（现在似乎想出来了，但是已经做完了）就换个方式。

7.小球和挡板碰触的速度改变需要进行不断斟酌尝试。

8.挡板的拖动一开始准备用UITouch，然而UITouch网上找的教程只能使挡板出现在目标地点而无行动轨迹。于是转而使用GestureRecognizer进行编写。

9.最后的一个问题是小球每次的轨迹都是一模一样的，为了改变这个现状。最后我抓取了拖动挡板时，挡板在x轴方向的速度，并且将小球与挡板撞击时小球x的速度与之关联起来，这样小球每一次弹出去的x轴速度不一样，轨迹也大不相似。

## 不足之处

1.砖块view我自己是手拖进去的，其实大可以敲几行代码便将其制造。遗憾的是交的时候我并没有想到。

2.结束界面出现遮罩view感觉会更加舒服，可是我当时有个知识点没有反应过来，于是写了遮罩view后又删除掉了，比较遗憾。

3.思维仍有些局限在固定模版中，对于碰撞判定的算法没有什么创新之处。

4.花的时间稍微有点多，改bug就改了一个下午，并且有很多都是低级错误，不太细心。

## 总结

这是第一次自己一个人手动写所有程序，一些语法还是从网上找来现学现用的，或许了解的还不是很清晰。

要想写好一款程序不是仅仅只要会用一些语法就可以了，更要去深入了解那些语法的用处和意义，真正去理解。

同时，编写程序的时候可能会把需求想得很多很周全，但最终不一定能够实现，所以对自己能力不足的反省之时要进行及时的取舍。

逻辑是很重要的东西，不能凭自己开心想写哪一块就写哪一块。一定得分析好程序是怎样环环嵌套，找出源头开始顺其自然行云流水般的写下去。
